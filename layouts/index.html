{{/* layouts/index.html */}}
{{ define "main" }}
<div class="container mx-auto px-4 py-12">
  <!-- Hero Section with Fortune Wheel -->
  <header class="text-center mb-8">
    <h1 class="text-4xl font-bold mb-4">Eight Fortunes</h1>
    <p class="text-xl max-w-2xl mx-auto">Discovering hidden opportunities and untapped value in the everyday things we often overlook. Spin the wheel to explore a category.</p>
  </header>

  <!-- Fortune Wheel Section -->
  <section class="my-12 max-w-2xl mx-auto">
    {{ partial "fortune-dial.html" . }}
  </section>
</div>

<!-- Add JavaScript for the fortune wheel -->
{{ $js := resources.Get "js/fortune-wheel.js" | resources.Minify | resources.Fingerprint }}
<script src="{{ $js.RelPermalink }}" defer></script>

<!-- confetti scripts -->
{{ $miniConfettiJS := resources.Get "js/mini-confetti.js" | resources.Minify | resources.Fingerprint }}
<script src="{{ $miniConfettiJS.RelPermalink }}" integrity="{{ $miniConfettiJS.Data.Integrity }}" defer></script>

<!-- Add CSS for the fortune wheel -->
{{ $css := resources.Get "css/components/fortune-wheel.css" | resources.Minify | resources.Fingerprint }}
<link rel="stylesheet" href="{{ $css.RelPermalink }}">


<style>
  /* Dark mode fixes */
  @media (prefers-color-scheme: dark) {
    #prev-category, #current-category, #next-category {
      color: white;
    }
    
    .selection-highlight {
      background-color: #374151 !important;
    }
    
    div[style*="background-color: white"] {
      background-color: #1f2937 !important;
    }
  }
  
  /* For explicit dark mode class */
  .dark #prev-category, 
  .dark #current-category, 
  .dark #next-category {
    color: white;
  }
  
  .dark .selection-highlight {
    background-color: #374151 !important;
  }
  
  .dark div[style*="background-color: white"] {
    background-color: #1f2937 !important;
  }
</style>
{{ end }}